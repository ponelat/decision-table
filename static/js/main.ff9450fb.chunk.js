(this["webpackJsonpdecision-table"]=this["webpackJsonpdecision-table"]||[]).push([[0],{13:function(e,n,t){e.exports=t(25)},18:function(e,n,t){},19:function(e,n,t){},24:function(e,n){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),c=t.n(o),u=(t(18),t(2)),l=t(4),i=t(12);function m(e,n){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(a){return console.log(a),n}})),r=Object(u.a)(t,2),o=r[0],c=r[1];return[o,function(n){try{var t=n instanceof Function?n(o):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a)}}]}var s=t(1),f=(t(19),t(3)),h=t.n(f);t(24);var d=[{header:"With Parent Node",enums:["null","object","array"]},{header:"From Node",enums:["null","string","number","bool"]},{header:"To Node",enums:["null","object","array","string","number","bool"]}],b=function(e){return function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(i.a)(n),r=a[0],o=a.slice(1);return o.length?r.flatMap((function(n){return e(o,[].concat(Object(l.a)(t),[n]))})):r.map((function(e){return[].concat(Object(l.a)(t),[e])}))}(e.map((function(e){return e.enums})))};var p=function(){var e={definitions:d,rowMap:{}},n=m("data",e),t=Object(u.a)(n,2),o=t[0],c=t[1],i=m("filename","decision-table.csv"),f=Object(u.a)(i,2),p=f[0],v=f[1],w=m("filters",[]),E=Object(u.a)(w,2),g=E[0],j=E[1],O=o.definitions,C=o.rowMap,k=Object(a.useState)(!1),M=Object(u.a)(k,2),N=M[0],y=M[1],S=function(e){return c(e)},x=function(e){return e.map((function(e,n){return O[n].enums.findIndex((function(n){return n===e}))})).join("/")},F=Object(a.useMemo)((function(){return b(O)}),[O]),I=F.length,J=function(e){return function(){j(Object(s.a)((function(n){return delete n[e],n})))}},T=function(e){return(C[x(e)]||{}).when||""},W=function(e){return(C[x(e)]||{}).then||""},A=function(e,n){return function(t){return S(Object(s.a)((function(a){var r=x(e);return a.rowMap[r]=a.rowMap[r]||{},a.rowMap[r][n]=t.target.value,a.rowMap[r].given=e,a})))}},R=function(e){return function(n){return S(Object(s.a)((function(t){return t.definitions[e].header=n.target.value,t})))}},D=function(e){return function(){return S(Object(s.a)((function(n){for(var t in n.definitions.splice(e,1),n.rowMap){var a=Object(l.a)(t.split("/"));a.splice(e,1),n.rowMap[a.join("/")]=n.rowMap[t],delete n.rowMap[t]}return n})))}},B=function(e){return function(n){return S(Object(s.a)((function(t){return t.definitions[e].enums=n.target.value.split("/"),t})))}},H=function(e){return function(n){return j(Object(s.a)((function(t){return t[e]=n.target.value.toLowerCase(),t})))}},L=Object(a.useMemo)((function(){return Object.keys(C).length}),[C]),P=F.filter((function(e,n){var t=!g.some((function(n,t){return!!n&&!n.split("|").map((function(e){return e.trim()})).some((function(n){return e[t].toLowerCase().includes(n)}))}));if(N){var a=C[x(e)];t=t&&!((null===a||void 0===a?void 0:a.when)||(null===a||void 0===a?void 0:a.then))}return t})),U=F.length-P.length;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Decision Table"),r.a.createElement("h3",null,r.a.createElement(h.a,{className:"filename",html:p,onChange:function(e){return v(e.target.value)}}),r.a.createElement("button",{onClick:function(){var e=[].concat(Object(l.a)(O.map((function(e){return"".concat(e.header," (").concat(e.enums.join("/"),")")}))),["when","then"]),n=F.map((function(e){var n=C[x(e)]||{},t=n.when,a=n.then;return[].concat(Object(l.a)(e),[t,a])}));!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/json",a="data:".concat(t,";charset=utf-8,")+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",n),document.body.appendChild(r),r.click(),r.remove()}([e].concat(Object(l.a)(n)).map((function(e){return e.map((function(e){return JSON.stringify(e)})).join(",")})).join("\n"),p,"text/csv")}},"Download CSV")),r.a.createElement("button",{onClick:function(){S(Object(s.a)((function(){return e}))),j([]),v("decision-table.csv")}},"Reset All"),r.a.createElement("button",{onClick:function(){S(Object(s.a)((function(e){return e.rowMap={},e})))}},"Reset Data"),r.a.createElement("button",{onClick:function(){j([])}},"Reset Filters"),r.a.createElement("h4",null,"Total: ",I," | When/Thens: ",L," | Hidden ",U),r.a.createElement("label",{htmlFor:"hide-data-rows"},"Hide data rows"),r.a.createElement("input",{onChange:function(e){return y(!!e.target.checked)},name:"",checked:N,type:"checkbox",value:""}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(r.a.Fragment,null,o.definitions.map((function(e,n){return r.a.createElement("th",{key:n},r.a.createElement(h.a,{className:"heading",html:e.header,onChange:R(n)}),r.a.createElement(h.a,{className:"enums",html:e.enums.join("/"),onChange:B(n)}),r.a.createElement("div",{className:"filter"},r.a.createElement(h.a,{placeholder:"...filter|filter",html:g[n]||"",onChange:H(n)}),g[n]?r.a.createElement("span",{className:"clear-filter",onClick:J(n)},"x"):null),r.a.createElement("button",{onClick:D(n)},"-"))}))),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return S(Object(s.a)((function(e){for(var n in e.definitions.push({header:"New Column",enums:["true","false"]}),e.rowMap)e.rowMap[n+"/0"]=e.rowMap[n],delete e.rowMap[n];return e})))}},"+")," "),r.a.createElement("th",null,"When"),r.a.createElement("th",null,"Then"))),r.a.createElement("tbody",null,P.map((function(e,n){return r.a.createElement("tr",{key:x(e)},r.a.createElement(r.a.Fragment,null,e.map((function(e,n){return r.a.createElement("td",{className:"cell",key:n},e,r.a.createElement("span",{onClick:(t=n,a=e,function(){return j(Object(s.a)((function(e){return e[t]=a,e})))})},"o"));var t,a}))),r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,r.a.createElement(h.a,{className:"when",html:T(e),onChange:A(e,"when")})),r.a.createElement("td",null,r.a.createElement(h.a,{className:"then",html:W(e),onChange:A(e,"then")})))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.ff9450fb.chunk.js.map