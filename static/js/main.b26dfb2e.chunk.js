(this["webpackJsonpdecision-table"]=this["webpackJsonpdecision-table"]||[]).push([[0],{13:function(e,n,t){e.exports=t(25)},18:function(e,n,t){},19:function(e,n,t){},24:function(e,n){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(11),o=t.n(c),u=(t(18),t(2)),i=t(4),l=t(12);function s(e,n){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(a){return console.log(a),n}})),r=Object(u.a)(t,2),c=r[0],o=r[1];return[c,function(n){try{var t=n instanceof Function?n(c):n;o(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a)}}]}var m=t(1),f=(t(19),t(3)),h=t.n(f);t(24);var d=[{header:"Day",enums:["weekday","weekend"]},{header:"Weather",enums:["dull","sunny","rainy"]}],b=function(e){return function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(l.a)(n),r=a[0],c=a.slice(1);return c.length?r.flatMap((function(n){return e(c,[].concat(Object(i.a)(t),[n]))})):r.map((function(e){return[].concat(Object(i.a)(t),[e])}))}(e.map((function(e){return e.enums})))};var w=function(){var e={definitions:d,rowMap:{}},n=s("data",e),t=Object(u.a)(n,2),c=t[0],o=t[1],l=s("filename","decision-table.csv"),f=Object(u.a)(l,2),w=f[0],p=f[1],E=s("filters",[]),v=Object(u.a)(E,2),g=v[0],j=v[1],O=c.definitions,k=c.rowMap,C=Object(a.useState)(new Set),M=Object(u.a)(C,2),y=M[0],S=M[1],N=function(e){return o(e)},x=function(e){return e.map((function(e,n){return O[n].enums.findIndex((function(n){return n===e}))})).join("/")},D=Object(a.useMemo)((function(){return b(O)}),[O]),F=D.length,I=function(){j([]),S(new Set)},J=function(e){return function(){j(Object(m.a)((function(n){return delete n[e],n})))}},W=function(e){return(k[x(e)]||{}).when||""},A=function(e){return(k[x(e)]||{}).then||""},R=function(e,n){return function(t){return N(Object(m.a)((function(a){var r=x(e);return a.rowMap[r]=a.rowMap[r]||{},a.rowMap[r][n]=t.target.value,a.rowMap[r].given=e,a})))}},T=function(e){return function(n){return N(Object(m.a)((function(t){return t.definitions[e].header=n.target.value,t})))}},B=function(e){return function(){return N(Object(m.a)((function(n){for(var t in n.definitions.splice(e,1),n.rowMap){var a=Object(i.a)(t.split("/"));a.splice(e,1),n.rowMap[a.join("/")]=n.rowMap[t],delete n.rowMap[t]}return n})))}},H=function(e){return function(n){return N(Object(m.a)((function(t){return t.definitions[e].enums=n.target.value.split("/"),t})))}},L=function(e){return function(n){return j(Object(m.a)((function(t){return t[e]=n.target.value.toLowerCase(),t})))}},U=Object(a.useMemo)((function(){return Object.keys(k).length}),[k]),V=D.filter((function(e,n){var t=!g.some((function(n,t){return!!n&&!n.split("|").map((function(e){return e.trim()})).some((function(n){return e[t].toLowerCase().includes(n)}))}));return t=t&&!y.has(x(e))})),$=D.length-V.length;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Decision Table"),r.a.createElement("h3",null,r.a.createElement(h.a,{className:"filename",html:w,onChange:function(e){return p(e.target.value)}}),r.a.createElement("button",{onClick:function(){var e=[].concat(Object(i.a)(O.map((function(e){return"".concat(e.header," (").concat(e.enums.join("/"),")")}))),["when","then"]),n=D.map((function(e){var n=k[x(e)]||{},t=n.when,a=n.then;return[].concat(Object(i.a)(e),[t,a])}));!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/json",a="data:".concat(t,";charset=utf-8,")+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",n),document.body.appendChild(r),r.click(),r.remove()}([e].concat(Object(i.a)(n)).map((function(e){return e.map((function(e){return JSON.stringify(e)})).join(",")})).join("\n"),w,"text/csv")}},"Download CSV")),r.a.createElement("button",{onClick:function(){N(Object(m.a)((function(){return e}))),p("decision-table.csv"),I(),S(new Set)}},"Reset All"),r.a.createElement("button",{onClick:function(){N(Object(m.a)((function(e){return e.rowMap={},e})))}},"Reset Data"),r.a.createElement("button",{onClick:I},"Reset Filters"),r.a.createElement("h4",null,"Total: ",F," | When/Thens: ",U," | Hidden ",$),r.a.createElement("label",{htmlFor:"hide-data-rows"},"Data rows: \xa0"),r.a.createElement("button",{onClick:function(){S(new Set(Object.keys(k).filter((function(e){return k[e].when||k[e].then}))))}}," Hide existing data rows "),r.a.createElement("button",{onClick:function(){S(new Set)}}," Unhide all data rows"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(r.a.Fragment,null,c.definitions.map((function(e,n){return r.a.createElement("th",{key:n},r.a.createElement(h.a,{className:"heading",html:e.header,onChange:T(n)}),r.a.createElement(h.a,{className:"enums",html:e.enums.join("/"),onChange:H(n)}),r.a.createElement("div",{className:"filter"},r.a.createElement(h.a,{placeholder:"...filter|filter",html:g[n]||"",onChange:L(n)}),g[n]?r.a.createElement("span",{className:"clear-filter",onClick:J(n)},"x"):null),r.a.createElement("button",{onClick:B(n)},"-"))}))),r.a.createElement("th",null," ",r.a.createElement("button",{onClick:function(){return N(Object(m.a)((function(e){for(var n in e.definitions.push({header:"New Column",enums:["true","false"]}),e.rowMap)e.rowMap[n+"/0"]=e.rowMap[n],delete e.rowMap[n];return e})))}},"+")," "),r.a.createElement("th",null,"When"),r.a.createElement("th",null,"Then"))),r.a.createElement("tbody",null,V.map((function(e,n){return r.a.createElement("tr",{key:x(e)},r.a.createElement(r.a.Fragment,null,e.map((function(e,n){return r.a.createElement("td",{className:"cell",key:n},e,r.a.createElement("span",{onClick:(t=n,a=e,function(){return j(Object(m.a)((function(e){return e[t]=a,e})))})},"o"));var t,a}))),r.a.createElement("td",null,"\xa0"),r.a.createElement("td",null,r.a.createElement(h.a,{className:"when",html:W(e),onChange:R(e,"when")})),r.a.createElement("td",null,r.a.createElement(h.a,{className:"then",html:A(e),onChange:R(e,"then")})))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.b26dfb2e.chunk.js.map